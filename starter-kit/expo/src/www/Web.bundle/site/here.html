<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="description" content="" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />

    <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js" type="text/javascript" charset="utf-8"></script>

    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />
    <link rel="stylesheet" type="text/css" href="css/here.css" />

    <title>SolutionsStarterKitDisasters2020App | HERE Map</title>
  </head>
  <body>
    <div id="mapContainer"></div>
    <div id="searchContainer">
      <input id="searchInput" placeholder="Search"><button id="searchButton">
        <svg preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32" aria-hidden="true" style="will-change: transform;">
          <path d="M30,28.59,22.45,21A11,11,0,1,0,21,22.45L28.59,30ZM5,14a9,9,0,1,1,9,9A9,9,0,0,1,5,14Z" fill="#6f737A"></path>
        </svg>
      </button>
    </div>
    <button id="sidebarButton" onclick="togglePanel();">
      <svg preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 32 32" aria-hidden="true" style="will-change: transform;">
        <path d="M4 24H28V26H4zM4 12H28V14H4zM4 18H28V20H4zM4 6H28V8H4z" fill="#6f737A"></path>
      </svg>
    </button>
    <div id="sidebarPanel">
      <button id="sidebarPanelButton" onclick="togglePanel();">
        <svg class="collapseSidebar" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" style="will-change: transform;">
          <path d="M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"></path>
        </svg>
      </button>
      <div id="buttonsWrapper">
        <svg onclick="onPostMessage(prompt('Enter your location'));"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="25%" height="25%" viewBox="0 0 48 48" aria-hidden="true" style="will-change: transform;"><path fill="none" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1" d="M35,20c0,8-11,19-11,19S13,29,13,20c0-6,4.925-11,11-11S35,14,35,20z M24,16c-2.209,0-4,1.791-4,4s1.791,4,4,4s4-1.791,4-4 S26.209,16,24,16z"></path></svg>
        <svg onclick="searchFor('hospital', true, togglePanel);" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="25%" height="25%" viewBox="0 0 48 48" aria-hidden="true" style="will-change: transform;"><path fill="none" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1" d="M24,31v8 M24,12.999v13.002 M25.617,20.001c0.937-0.658,1.478-1.446,1.478-2.637c0-1.035-0.617-1.993-1.478-2.361 M22.382,29.827 c-0.937,0.658-1.478,1.446-1.478,2.637c0,1.035,0.617,1.993,1.478,2.361 M25.617,27.485c0.976-0.74,1.478-1.33,1.478-2.622 c0-3.246-6.179-4.1-6.179-7.618c0-0.999,0.608-1.865,1.442-2.242 M25.617,34.825c0.976-0.74,1.478-1.33,1.478-2.622 c0-3.246-6.179-4.1-6.179-7.618c0-0.999,0.608-1.865,1.442-2.242 M36,17h-6.848 M33.979,19.001h-5.164 M38,15h-6.286 c-1.241,0-2.619,0.453-2.619,2.576c0,1.275-0.855,2.84-2.095,3.424 M12,17h6.869 M14,19.001h5.187 M21,21 c-1.239-0.584-2.093-2.149-2.093-3.424c0-2.123-1.378-2.576-2.619-2.576H10 M24,9c-1.105,0-2,0.895-2,2s0.895,2,2,2s2-0.895,2-2 S25.105,9,24,9z"></path></svg>
        <svg onclick="searchFor('police', true, togglePanel);" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" width="25%" height="25%" viewBox="0 0 48 48" aria-hidden="true" style="will-change: transform;"><path fill="none" stroke="#FFF" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1" d="M24,14 c-0.741-0.212-1.25-0.964-1.25-1.643c0-0.548,0-0.981,0-0.981c0.64,0,0.914-0.098,1.25-0.376c0.336,0.278,0.61,0.376,1.25,0.376 c0,0,0,0.433,0,0.981C25.25,13.036,24.741,13.788,24,14z M30,10.71c-3.07,0-4.38-0.44-6-1.71c-1.62,1.27-2.93,1.71-6,1.71 c-1.15,2.09-4,2.61-4,2.61l1.23,1.62l1.37,1.81l0.18,0.23L16.79,17c1.64-0.88,3.83-1.63,7.23-1.63s5.33,0.75,7.22,1.62l0.17-0.22 l1.37-1.83L34,13.32C34,13.32,31.15,12.8,30,10.71z M31.225,18.99c-1.89-0.87-3.82-1.62-7.22-1.62s-5.59,0.75-7.23,1.63 M16.403,19 c1.757,0.959,3.934,2.4,7.567,2.4s5.869-1.442,7.626-2.4 M32,35.714c0-1.096,0-1.963,0-1.963c-1.28,0-1.827-0.196-2.5-0.752 c-0.673,0.556-1.22,0.752-2.5,0.752c0,0,0,0.866,0,1.963c0,1.358,1.018,2.861,2.5,3.286C30.982,38.575,32,37.072,32,35.714z M32,35.714c0-1.096,0-1.963,0-1.963c-1.28,0-1.827-0.196-2.5-0.752c-0.673,0.556-1.22,0.752-2.5,0.752c0,0,0,0.866,0,1.963 c0,1.358,1.018,2.861,2.5,3.286C30.982,38.575,32,37.072,32,35.714z M31.24,16.99c0.18,0.47,0.31,0.97,0.4,1.48 c0.06,0.41,0.1,0.83,0.1,1.26c0,3.16-1.89,5.86-4.6,7.07C33.12,28.22,38,33.59,38,40 M10,40c0-6.41,4.88-11.78,10.86-13.2 c-2.7-1.21-4.59-3.91-4.59-7.07c0-0.43,0.04-0.86,0.11-1.27c0.08-0.51,0.21-1.01,0.4-1.48 M16,36h5"></path></svg>
      </div>
      <div id="routePanel">
        <ul></ul>
      </div>
    </div>

    <script>
      const togglePanel = function () {
        const sidebarButton = document.getElementById('sidebarButton');
        const sidebarPanel = document.getElementById('sidebarPanel');
        if (sidebarPanel.className.indexOf('sidebarExpanded') === -1) {
          sidebarPanel.classList.add('sidebarExpanded');
        } else {
          sidebarPanel.classList.remove('sidebarExpanded');
        }
      }

      const init = function () {
        const search = document.getElementById('searchButton');
        search.addEventListener('click', function () {
          const text = document.getElementById('searchInput').value.trim();
          if (text) {
            searchFor(text);
          }

        })
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    </script>

    <script src="js/here.js"></script>
  </body>
</html>
